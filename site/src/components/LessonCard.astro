---
import LessonVideo from './LessonVideo.astro';

const {
  title,
  embedSrc,
  youtubeUrl,
  level,
  duration,
} = Astro.props;
---

<article class="lesson-card">
  <LessonVideo title={title} src={embedSrc} />

  <div class="lesson-meta">
    <h3>{title}</h3>

    {(level || duration) && (
      <div class="lesson-tags">
        {level && <span class="tag">{level}</span>}
        {duration && <span class="tag">{duration}</span>}
      </div>
    )}

    <a
      href={youtubeUrl}
      target="_blank"
      rel="noopener"
      class="lesson-link"
    >
      Voir sur YouTube
    </a>
  </div>
</article>

<style>
.lesson-card {
  display: flex;
  flex-direction: column;
  margin-top: 0;
  padding: 1vw;
  border: 1px solid var(--sl-color-gray-5);
  border-radius: 14px;
  background: var(--sl-color-bg);
}

.lesson-meta {
  margin: 0;
}

.lesson-meta h3 {
  margin: 0;
  font-size: 1rem;
}

.lesson-tags {
  display: flex;
  gap: 0.5rem;
  margin: 0.25rem 0;
}

.tag {
  font-size: 0.75rem;
  padding: 0.15rem 0.5rem;
  border-radius: 999px;
  background: var(--sl-color-gray-6);
  color: var(--sl-color-text);
}

.lesson-link {
  font-size: 0.875rem;
  color: var(--sl-color-accent);
  text-decoration: none;
}

.lesson-link:hover {
  text-decoration: underline;
}
</style>
